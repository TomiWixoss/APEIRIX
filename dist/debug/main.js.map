{"version":3,"sources":["../../scripts/achievements/AchievementData.ts","../../scripts/achievements/AchievementUI.ts","../../scripts/achievements/AchievementManager.ts","../../scripts/main.ts","../../scripts/achievements/AchievementTracker.ts"],"sourcesContent":["/**\r\n * Achievement definitions for APEIRIX\r\n */\r\n\r\nexport interface Achievement {\r\n    id: string;\r\n    name: string;\r\n    desc: string;\r\n    requirement: number;\r\n}\r\n\r\nexport const ACHIEVEMENTS: Achievement[] = [\r\n    {\r\n        id: \"welcome\",\r\n        name: \"Chào mừng đến APEIRIX\",\r\n        desc: \"Tham gia thế giới lần đầu tiên\",\r\n        requirement: 1\r\n    },\r\n    {\r\n        id: \"first_steps\",\r\n        name: \"Bước Đầu Tiên\",\r\n        desc: \"Đi bộ 100 blocks\",\r\n        requirement: 100\r\n    },\r\n    {\r\n        id: \"breaker\",\r\n        name: \"Người Phá Hủy\",\r\n        desc: \"Phá 10 blocks\",\r\n        requirement: 10\r\n    }\r\n];\r\n","/**\r\n * Achievement UI cho APEIRIX - Phiên bản ActionFormData\r\n */\r\n\r\nimport { Player } from \"@minecraft/server\";\r\nimport { ActionFormData } from \"@minecraft/server-ui\";\r\nimport { AchievementManager } from \"./AchievementManager\";\r\nimport { ACHIEVEMENTS } from \"./AchievementData\";\r\n\r\nexport class AchievementUI {\r\n    /**\r\n     * Hiển thị menu thành tựu chính\r\n     */\r\n    static async showMainMenu(player: Player): Promise<void> {\r\n        const achievements = AchievementManager.getAllAchievements(player);\r\n        const totalAchievements = ACHIEVEMENTS.length;\r\n        const unlockedCount = achievements.filter(a => a.unlocked).length;\r\n        const progressPercent = Math.floor((unlockedCount / totalAchievements) * 100);\r\n        \r\n        const form = new ActionFormData()\r\n            .title(\"§l§6═══ THÀNH TỰU APEIRIX ═══\")\r\n            .body(\r\n                `§8━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n` +\r\n                `§7Tiến độ hoàn thành: §e${unlockedCount}§7/§e${totalAchievements}\\n` +\r\n                `${this.createProgressBar(progressPercent)}\\n` +\r\n                `§8━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n\\n` +\r\n                `§7Chọn thành tựu để xem chi tiết:`\r\n            );\r\n\r\n        // Thêm nút cho mỗi thành tựu\r\n        achievements.forEach(({ achievement, unlocked, progress }) => {\r\n            const status = unlocked ? \"§a[✓]\" : \"§7[✗]\";\r\n            const progressPercent = Math.floor((progress / achievement.requirement) * 100);\r\n            const progressColor = progressPercent >= 100 ? \"§a\" : progressPercent >= 50 ? \"§e\" : \"§c\";\r\n            const buttonText = `${status} §r§l${achievement.name}\\n§r§8${progressColor}${progressPercent}% §8hoàn thành`;\r\n            form.button(buttonText);\r\n        });\r\n\r\n        form.button(\"§l§c✖ Đóng\");\r\n\r\n        try {\r\n            const response = await form.show(player);\r\n            \r\n            if (response.canceled || response.selection === undefined) return;\r\n            \r\n            // Nếu không phải nút đóng\r\n            if (response.selection < achievements.length) {\r\n                const selected = achievements[response.selection];\r\n                await this.showAchievementDetail(player, selected.achievement, selected.unlocked, selected.progress);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi hiển thị menu thành tựu:\", error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hiển thị chi tiết thành tựu\r\n     */\r\n    private static async showAchievementDetail(\r\n        player: Player,\r\n        achievement: any,\r\n        unlocked: boolean,\r\n        progress: number\r\n    ): Promise<void> {\r\n        const progressPercent = Math.floor((progress / achievement.requirement) * 100);\r\n        const progressBar = this.createProgressBar(progressPercent);\r\n        \r\n        const statusIcon = unlocked ? \"§a✓\" : \"§7✗\";\r\n        const statusText = unlocked ? \"§a§lĐÃ HOÀN THÀNH\" : \"§7§lCHƯA MỞ KHÓA\";\r\n        const progressText = `§e${Math.floor(progress)}§7/§e${achievement.requirement}`;\r\n        \r\n        const body = \r\n            `§8━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n` +\r\n            `§7${achievement.desc}\\n` +\r\n            `§8━━━━━━━━━━━━━━━━━━━━━━━━━━━━\\n\\n` +\r\n            `§7Trạng thái: ${statusIcon} ${statusText}\\n\\n` +\r\n            `§7Tiến độ: ${progressText}\\n` +\r\n            `${progressBar}\\n\\n` +\r\n            (unlocked \r\n                ? \"§a§l★ CHÚC MỪNG! ★\\n§7Bạn đã hoàn thành thành tựu này!\" \r\n                : \"§e§l⚡ CỐ GẮNG LÊN! ⚡\\n§7Bạn sắp hoàn thành rồi!\");\r\n\r\n        const form = new ActionFormData()\r\n            .title(`§l§6${achievement.name}`)\r\n            .body(body)\r\n            .button(\"§l§a← Quay lại Menu\")\r\n            .button(\"§l§c✖ Đóng\");\r\n\r\n        try {\r\n            const response = await form.show(player);\r\n            \r\n            if (!response.canceled && response.selection === 0) {\r\n                // Hiển thị menu chính lại\r\n                await this.showMainMenu(player);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Lỗi khi hiển thị chi tiết thành tựu:\", error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Tạo thanh tiến độ\r\n     */\r\n    private static createProgressBar(percent: number): string {\r\n        const barLength = 20;\r\n        const filled = Math.floor((percent / 100) * barLength);\r\n        const empty = barLength - filled;\r\n        \r\n        // Chọn màu dựa trên phần trăm\r\n        let barColor = \"§c\"; // Đỏ\r\n        if (percent >= 75) barColor = \"§a\"; // Xanh lá\r\n        else if (percent >= 50) barColor = \"§e\"; // Vàng\r\n        else if (percent >= 25) barColor = \"§6\"; // Cam\r\n        \r\n        const filledBar = barColor + \"█\".repeat(filled);\r\n        const emptyBar = \"§8█\".repeat(empty);\r\n        \r\n        return `§8[${filledBar}${emptyBar}§8] §e${percent}%`;\r\n    }\r\n\r\n    /**\r\n     * Hiển thị thông báo mở khóa thành tựu\r\n     */\r\n    static showUnlockNotification(player: Player, achievementId: string): void {\r\n        const achievement = ACHIEVEMENTS.find(a => a.id === achievementId);\r\n        if (!achievement) return;\r\n\r\n        // Hiển thị thông báo title\r\n        player.onScreenDisplay.setTitle(`§6§l★ MỞ KHÓA THÀNH TỰU! ★`);\r\n        player.onScreenDisplay.updateSubtitle(`§e§l${achievement.name}`);\r\n    }\r\n}\r\n","/**\r\n * Achievement Manager for APEIRIX\r\n */\r\n\r\nimport { Player } from \"@minecraft/server\";\r\nimport { ACHIEVEMENTS, Achievement } from \"./AchievementData\";\r\n\r\nexport class AchievementManager {\r\n    private static readonly PROPERTY_PREFIX = \"apeirix:achievement_\";\r\n    private static readonly PROGRESS_PREFIX = \"apeirix:progress_\";\r\n\r\n    /**\r\n     * Check if player has unlocked an achievement\r\n     */\r\n    static hasAchievement(player: Player, achievementId: string): boolean {\r\n        try {\r\n            return player.getDynamicProperty(this.PROPERTY_PREFIX + achievementId) === true;\r\n        } catch {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get progress for an achievement\r\n     */\r\n    static getProgress(player: Player, achievementId: string): number {\r\n        try {\r\n            const progress = player.getDynamicProperty(this.PROGRESS_PREFIX + achievementId);\r\n            return typeof progress === \"number\" ? progress : 0;\r\n        } catch {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set progress for an achievement\r\n     */\r\n    static setProgress(player: Player, achievementId: string, value: number): void {\r\n        try {\r\n            // Nếu đã hoàn thành thì không cập nhật nữa\r\n            if (this.hasAchievement(player, achievementId)) return;\r\n            \r\n            const achievement = ACHIEVEMENTS.find(a => a.id === achievementId);\r\n            if (!achievement) return;\r\n            \r\n            // Giới hạn progress không vượt quá requirement\r\n            const clampedValue = Math.min(value, achievement.requirement);\r\n            player.setDynamicProperty(this.PROGRESS_PREFIX + achievementId, clampedValue);\r\n            \r\n            // Check if achievement should be unlocked\r\n            if (clampedValue >= achievement.requirement) {\r\n                this.unlockAchievement(player, achievementId);\r\n            }\r\n        } catch (error) {\r\n            console.warn(`Failed to set progress for ${achievementId}:`, error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Increment progress for an achievement\r\n     */\r\n    static incrementProgress(player: Player, achievementId: string, amount: number = 1): void {\r\n        // Nếu đã hoàn thành thì không tăng nữa\r\n        if (this.hasAchievement(player, achievementId)) return;\r\n        \r\n        const current = this.getProgress(player, achievementId);\r\n        this.setProgress(player, achievementId, current + amount);\r\n    }\r\n\r\n    /**\r\n     * Unlock an achievement\r\n     */\r\n    static unlockAchievement(player: Player, achievementId: string): void {\r\n        try {\r\n            if (this.hasAchievement(player, achievementId)) return;\r\n\r\n            player.setDynamicProperty(this.PROPERTY_PREFIX + achievementId, true);\r\n            \r\n            const achievement = ACHIEVEMENTS.find(a => a.id === achievementId);\r\n            if (achievement) {\r\n                // Import UI dynamically to avoid circular dependency\r\n                import(\"./AchievementUI\").then(({ AchievementUI }) => {\r\n                    AchievementUI.showUnlockNotification(player, achievementId);\r\n                });\r\n                \r\n                player.playSound(\"random.levelup\");\r\n            }\r\n        } catch (error) {\r\n            console.warn(`Failed to unlock achievement ${achievementId}:`, error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all achievements with their status for a player\r\n     */\r\n    static getAllAchievements(player: Player): Array<{achievement: Achievement, unlocked: boolean, progress: number}> {\r\n        return ACHIEVEMENTS.map(achievement => ({\r\n            achievement,\r\n            unlocked: this.hasAchievement(player, achievement.id),\r\n            progress: this.getProgress(player, achievement.id)\r\n        }));\r\n    }\r\n}\r\n","/**\r\n * APEIRIX - Script Chính\r\n * Thêm mọi thứ vào game\r\n */\r\n\r\nimport { world, system, Player } from \"@minecraft/server\";\r\nimport { AchievementTracker } from \"./achievements/AchievementTracker\";\r\nimport { AchievementManager } from \"./achievements/AchievementManager\";\r\nimport { AchievementUI } from \"./achievements/AchievementUI\";\r\n\r\n// Khởi tạo hệ thống thành tựu\r\nsystem.afterEvents.scriptEventReceive.subscribe((event) => {\r\n    if (event.id === \"apeirix:init\") {\r\n        AchievementTracker.initialize();\r\n        console.warn(\"Hệ thống thành tựu APEIRIX đã khởi tạo!\");\r\n    }\r\n});\r\n\r\n// Khởi tạo khi world load\r\nsystem.runTimeout(() => {\r\n    AchievementTracker.initialize();\r\n    console.warn(\"Addon APEIRIX đã tải thành công!\");\r\n}, 1);\r\n\r\n// Thông báo chào mừng khi người chơi tham gia\r\nworld.afterEvents.playerSpawn.subscribe((event) => {\r\n    const player = event.player;\r\n    if (event.initialSpawn) {\r\n        player.sendMessage(\"§a§lChào mừng đến với APEIRIX!\");\r\n        \r\n        // Kiểm tra xem đã nhận sách chưa (dựa vào thành tựu welcome)\r\n        const hasWelcomeAchievement = AchievementManager.hasAchievement(player, \"welcome\");\r\n        \r\n        if (!hasWelcomeAchievement) {\r\n            // Tặng sách thành tựu cho người chơi mới (chỉ 1 lần)\r\n            system.runTimeout(() => {\r\n                try {\r\n                    player.runCommand(\"give @s apeirix:achievement_book 1\");\r\n                    player.sendMessage(\"§e§lBạn đã nhận được Sách Thành Tựu APEIRIX!\");\r\n                    player.sendMessage(\"§7Sử dụng sách để xem tiến độ thành tựu của bạn\");\r\n                } catch (error) {\r\n                    console.warn(\"Không thể tặng sách thành tựu:\", error);\r\n                }\r\n            }, 20);\r\n        }\r\n    }\r\n});\r\n\r\n// Mở UI khi dùng sách thành tựu\r\nworld.afterEvents.itemUse.subscribe((event) => {\r\n    const player = event.source;\r\n    const item = event.itemStack;\r\n    \r\n    if (item.typeId === \"apeirix:achievement_book\") {\r\n        system.run(() => {\r\n            AchievementUI.showMainMenu(player);\r\n        });\r\n    }\r\n});\r\n\r\n// Lệnh để lấy lại sách nếu mất\r\nsystem.afterEvents.scriptEventReceive.subscribe((event) => {\r\n    if (event.id === \"apeirix:getbook\") {\r\n        const entity = event.sourceEntity;\r\n        \r\n        if (!entity) {\r\n            console.warn(\"Không tìm thấy entity cho lệnh getbook\");\r\n            return;\r\n        }\r\n        \r\n        const players = world.getAllPlayers();\r\n        const player = players.find(p => p.id === entity.id) || players[0];\r\n        \r\n        if (!player) {\r\n            console.warn(\"Không tìm thấy người chơi\");\r\n            return;\r\n        }\r\n        \r\n        system.run(() => {\r\n            try {\r\n                player.runCommand(\"give @s apeirix:achievement_book 1\");\r\n                player.sendMessage(\"§a§lĐã nhận lại Sách Thành Tựu APEIRIX!\");\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi tặng sách:\", error);\r\n                player.sendMessage(\"§cKhông thể tặng sách!\");\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n// Lắng nghe lệnh script event\r\nsystem.afterEvents.scriptEventReceive.subscribe((event) => {\r\n    if (event.id === \"apeirix:achievements\") {\r\n        const entity = event.sourceEntity;\r\n        \r\n        if (!entity) {\r\n            console.warn(\"Không tìm thấy entity cho lệnh thành tựu\");\r\n            return;\r\n        }\r\n        \r\n        // Tìm người chơi\r\n        const players = world.getAllPlayers();\r\n        const player = players.find(p => p.id === entity.id) || players[0];\r\n        \r\n        if (!player) {\r\n            console.warn(\"Không tìm thấy người chơi\");\r\n            return;\r\n        }\r\n        \r\n        // Hiển thị UI\r\n        system.run(() => {\r\n            AchievementUI.showMainMenu(player);\r\n        });\r\n    }\r\n});\r\n\r\n\r\n\r\n","/**\r\n * Achievement Tracker - Listens to game events and tracks progress\r\n */\r\n\r\nimport { world, system, Vector3 } from \"@minecraft/server\";\r\nimport { AchievementManager } from \"./AchievementManager\";\r\n\r\nexport class AchievementTracker {\r\n    private static playerPositions = new Map<string, Vector3>();\r\n\r\n    /**\r\n     * Initialize all achievement trackers\r\n     */\r\n    static initialize(): void {\r\n        this.trackWelcome();\r\n        this.trackMovement();\r\n        this.trackBlockBreaking();\r\n    }\r\n\r\n    /**\r\n     * Track \"Welcome to APEIRIX\" achievement\r\n     */\r\n    private static trackWelcome(): void {\r\n        world.afterEvents.playerSpawn.subscribe((event) => {\r\n            if (event.initialSpawn) {\r\n                AchievementManager.setProgress(event.player, \"welcome\", 1);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Track \"First Steps\" achievement - Walk 100 blocks\r\n     */\r\n    private static trackMovement(): void {\r\n        system.runInterval(() => {\r\n            for (const player of world.getAllPlayers()) {\r\n                const currentPos = player.location;\r\n                const lastPos = this.playerPositions.get(player.id);\r\n\r\n                if (lastPos) {\r\n                    const distance = Math.sqrt(\r\n                        Math.pow(currentPos.x - lastPos.x, 2) +\r\n                        Math.pow(currentPos.z - lastPos.z, 2)\r\n                    );\r\n\r\n                    if (distance > 0.1 && distance < 10) { // Prevent teleport counting\r\n                        AchievementManager.incrementProgress(player, \"first_steps\", distance);\r\n                    }\r\n                }\r\n\r\n                this.playerPositions.set(player.id, currentPos);\r\n            }\r\n        }, 20); // Check every second\r\n    }\r\n\r\n    /**\r\n     * Track \"Breaker\" achievement - Break 10 blocks\r\n     */\r\n    private static trackBlockBreaking(): void {\r\n        world.afterEvents.playerBreakBlock.subscribe((event) => {\r\n            AchievementManager.incrementProgress(event.player, \"breaker\", 1);\r\n        });\r\n    }\r\n}\r\n"],"mappings":"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","names":["progressPercent","AchievementUI","world","system","system","world"],"file":"../scripts/main.js"}